{"version":3,"sources":["components lazy /^/.//.*/.tsx$/ groupOptions: {} namespace object","router/loadable/loading.js","router/loadable/index.js","router/config.ts","layout/header.tsx","layout/siderMeuns.tsx","layout/content.tsx","layout/breadcrumb.tsx","layout/index.tsx","router/auth.config.ts","App.js","reportWebVitals.js","index.js"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","all","slice","keys","Object","module","exports","Loading","error","pastDelay","className","styles","loadingWapper","loadingSpinWapper","loadFn","componentPath","Loadable","loading","loader","delay","NotFound","Login","navMeuns","title","key","component","exact","children","makeFullPath","meunsArr","parentPath","parentTitle","forEach","k","fullPath","fullTitle","l","routersArr","flattenRoute","dataArr","item","push","authFun","noShowArr","del","arr","noShowData","filter","includes","assign","Header","Layout","HeaderCom","props","useState","username","useInfo","setUseInfo","menu","ItemGroup","Divider","Item","onClick","window","location","href","LogoutOutlined","useEffect","JSON","parse","localStorage","getItem","err","console","log","LayoutContext","Consumer","value","menuToggle","setMenuToggle","style","color","MenuUnfoldOutlined","MenuFoldOutlined","overlay","overlayStyle","width","Sider","SubMenu","Menu","withRouter","history","openKeys","setOpenKeys","initOpenKeys","subMenu","meunObj","meun","showMeuns","i","hideMeun","openKeysArr","findKey","pathname","split","Array","isArray","collapsed","mode","selectedKeys","height","borderRight","onOpenChange","meunOpenChange","Content","ContentCom","useContext","context","routersArrAuth","padding","margin","minHeight","RoutersCustom","breaNameArr","setBreaNameArr","initBread","pathName","trgatItem","find","to","createContext","LayoutCustom","Provider","overflow","authConfig","pages","extension","arrs","path","render","searchParmas","queryString","search","NormalLayout","App","navMeunsAuth","setNavMeunsConstom","setRoutersArrConstom","stringifyUseInfo","getAuthMeuns","userauth","noShowRoutes","length","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.76feacd1.chunk.js","sourcesContent":["var map = {\n\t\"./extension/queryParams.tsx\": [\n\t\t133,\n\t\t5\n\t],\n\t\"./index/index.tsx\": [\n\t\t134,\n\t\t6\n\t],\n\t\"./login/index.tsx\": [\n\t\t135,\n\t\t3,\n\t\t4\n\t],\n\t\"./notFound/index.tsx\": [\n\t\t136,\n\t\t7\n\t],\n\t\"./pages/detail.tsx\": [\n\t\t137,\n\t\t8\n\t],\n\t\"./pages/listMore.tsx\": [\n\t\t138,\n\t\t9\n\t],\n\t\"./pages/listSigel.tsx\": [\n\t\t139,\n\t\t10\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 124;\nmodule.exports = webpackAsyncContext;","import { Spin } from 'antd'\nimport styles from './index.scss'\n\nexport function Loading({ error, pastDelay }) {\n  return (\n    <div className={styles.loadingWapper}>\n      <Spin className={styles.loadingSpinWapper}></Spin>\n    </div>\n  )\n}\n","/*\n  路由懒加载 Loadable\n*/\nimport Loadable from 'react-loadable'\nimport { Loading } from './loading'\n\nfunction loadFn(componentPath) {\n  return Loadable({\n    loading: Loading,\n    loader: () => import(`../../components/${componentPath}.tsx`),\n    delay: 400, // 0.4 seconds 0.4s内加载不出展示loading\n  })\n}\nexport default loadFn\n","\nimport Loadable from './loadable'\n\nexport const NotFound=Loadable('notFound/index')\nexport const Login=Loadable('login/index')\nexport let navMeuns=[\n    {\n        title:'首页',\n        key:'/',\n        component:Loadable('index/index'),\n        exact:true\n    },\n    {\n        title:'页面',\n        key:'/pages',\n        children:[\n            {\n                title:'列表页',\n                key:'/pagesList',\n                children:[{\n                    title:'单个筛选条件列表页',\n                    key:'/listSigel',\n                    component:Loadable('pages/listSigel')\n                },{\n                    title:'多个筛选条件列表页',\n                    key:'/listMore',\n                    component:Loadable('pages/listMore')\n                }]\n            },\n            {\n                title:'详情页',\n                key:'/pagesDetail',\n                component:Loadable('pages/detail')\n            }\n        ]\n    },\n    {\n        title:'功能拓展',\n        key:'/extension',\n        children:[\n            {\n                title:'链接参数',\n                key:'/queryParams',\n                component:Loadable('extension/queryParams')\n            },\n        ]\n    }\n]\n\n\n// 处理路由name、path全路径，方便菜单展开，面包屑渲染\nconst makeFullPath = (meunsArr: any[], parentPath: string,parentTitle: string) => {\n    meunsArr.forEach((k) => {\n      k.fullPath = parentPath ? parentPath + k.key : k.key\n      k.fullTitle = parentTitle ?`${ parentTitle }/${k.title}` : k.title\n      if (k.children) {\n        k.children.forEach((l: any) => {\n          l.fullPath = k.key + l.key\n          l.fullTitle = `${k.title}/${l.title}`\n          if (l.children) makeFullPath(l.children, l.fullPath,l.fullTitle)\n        })\n      }\n    })\n  }\n\n  makeFullPath(navMeuns,'','')\n\n// 将路由组件扁平化，方便路由渲染\nexport let routersArr:any[]=[]\nconst flattenRoute=(dataArr:any[])=>{\n    dataArr.map(item=>{\n        if(item.component){\n            routersArr.push(item)\n        }\n        if(item.children){flattenRoute(item.children)}\n    })\n}\n\n\n// 权限处理\nexport const authFun=(noShowArr:any[])=>{\n    function del(arr:any[],noShowData:any[]){\n        return arr.filter(item => !noShowData.includes(item.key)).map(item => {\n            item = Object.assign({}, item)\n            if (item.children) {\n              item.children = del(item.children, noShowData)\n            }\n            return item\n          })\n        }\n    navMeuns=del(navMeuns,noShowArr)\n    flattenRoute(navMeuns)\n\n    return {\n        navMeuns,\n        routersArr\n    }\n\n}","import { Layout, Menu, Dropdown } from 'antd'\nimport { useEffect, useState } from 'react'\n\nimport {\n  LogoutOutlined,\n  MenuFoldOutlined,\n  MenuUnfoldOutlined,\n} from '@ant-design/icons'\nimport { LayoutContext } from './index'\n\nconst { Header } = Layout\n\nfunction HeaderCom(props: any) {\n  const [useInfo, setUseInfo] = useState({ username: '' })\n  const signOut = () => {\n    window.location.href = '/login'\n  }\n  const menu = (\n    <Menu>\n      <Menu.ItemGroup title=\"用户设置\">\n        <Menu.Divider />\n        <Menu.Item onClick={signOut}>\n          {' '}\n          <LogoutOutlined /> 退出登录\n        </Menu.Item>\n      </Menu.ItemGroup>\n    </Menu>\n  )\n  useEffect(() => {\n    try {\n      // @ts-ignore\n      setUseInfo(JSON.parse(localStorage.getItem('userInfo')) || {})\n    } catch (err) {\n      console.log(err)\n    }\n  }, [])\n\n  return (\n    <div className=\"Head\">\n      <LayoutContext.Consumer>\n        {(value: any) => {\n          const { menuToggle, setMenuToggle } = value\n          return (\n            <Header className=\"header\">\n              <div className=\"logo-line\" style={{ color: '#fff' }}>\n                <p>\n                  <span>动态路由-DEMO</span>\n                  <span className=\"top-toggle-icon\">\n                    {menuToggle ? (\n                      <MenuUnfoldOutlined\n                        onClick={() => {\n                          setMenuToggle(!menuToggle)\n                        }}\n                      />\n                    ) : (\n                      <MenuFoldOutlined\n                        onClick={() => {\n                          setMenuToggle(!menuToggle)\n                        }}\n                      />\n                    )}\n                  </span>\n                </p>\n                <Dropdown overlay={menu} overlayStyle={{ width: '10rem' }}>\n                  <span className=\"meun-top\">\n                    {useInfo?.username || '用户名'}\n                  </span>\n                </Dropdown>\n              </div>\n            </Header>\n          )\n        }}\n      </LayoutContext.Consumer>\n    </div>\n  )\n}\n\nexport default HeaderCom\n","import { Layout, Menu } from 'antd'\nimport { withRouter } from 'react-router-dom'\nimport { navMeuns } from '../router/config'\nimport _ from 'lodash'\nimport { useEffect, useState } from 'react'\nimport { LayoutContext } from './index'\n\nconst { Sider } = Layout\nconst { SubMenu } = Menu\ninterface Iprops {\n  history?: any\n}\ntype Imeun = {\n  key: string\n}\nfunction SiderMeuns(props: Iprops) {\n  const { history } = props\n  const { location } = history\n  const [openKeys, setOpenKeys]: any[] = useState([])\n\n  useEffect(() => {\n    initOpenKeys()\n  }, [])\n\n  // url跳转\n  const subMeunClick = (meun: Imeun) => {\n    history.push(meun.key)\n  }\n\n  // 单个菜单\n  const subMenu = (meunObj: any) => {\n    return (\n      <Menu.Item key={meunObj.key} onClick={() => subMeunClick(meunObj)}>\n        {meunObj.title}\n      </Menu.Item>\n    )\n  }\n\n  // 渲染菜单\n  const showMeuns = (meunsArr: any[]) => {\n    return meunsArr.map((i: any) => {\n      if (i.hideMeun) return null\n      return i.component && !i.children ? (\n        subMenu(i)\n      ) : (\n        <SubMenu key={i.key} title={i.title}>\n          {i.children &&\n            i.children.map((k: any) =>\n              k.children ? showMeuns([k]) : subMenu(k)\n            )}\n        </SubMenu>\n      )\n    })\n  }\n\n  // 初始化时展开url所在的菜单组\n  const initOpenKeys = () => {\n    let openKeysArr: any[] = []\n\n    const findKey = (meunsArr: any[]) => {\n      meunsArr.forEach((i) => {\n        if (location.pathname === i.key)\n          openKeysArr = i.fullPath && i.fullPath.split('/')\n        if (i.children) findKey(i.children)\n      })\n    }\n    findKey(navMeuns)\n    openKeysArr = openKeysArr.filter((i) => i).map((i) => '/' + i)\n    setOpenKeys(Array.isArray(openKeysArr) ? openKeysArr : [])\n  }\n\n  // 操控菜单展开/关闭\n  const meunOpenChange = (openKeys: any) => {\n    setOpenKeys(openKeys)\n  }\n\n  return (\n    <LayoutContext.Consumer>\n      {(value: any) => {\n        const { menuToggle } = value\n\n        return (\n          <Sider\n            width={200}\n            className=\"site-layout-background\"\n            collapsed={menuToggle}\n          >\n            <Menu\n              mode=\"inline\"\n              selectedKeys={[location.pathname]}\n              openKeys={openKeys}\n              style={{ height: '100%', borderRight: 0 }}\n              onOpenChange={(e) => meunOpenChange(e)}\n            >\n              {showMeuns(navMeuns)}\n            </Menu>\n          </Sider>\n        )\n      }}\n    </LayoutContext.Consumer>\n  )\n}\n\nexport default withRouter(SiderMeuns)\n","import { Layout } from 'antd'\nimport { useContext } from 'react'\nimport { context, RoutersCustom } from '../App'\n\nconst { Content } = Layout\n\nfunction ContentCom() {\n  // @ts-ignore\n  const { routersArrAuth = [] as any[] } = useContext(context)\n  return (\n    <div>\n      <Content\n        className=\"site-layout-background\"\n        style={{\n          padding: 24,\n          margin: 0,\n          minHeight: 280,\n        }}\n      >\n        {RoutersCustom(routersArrAuth)}\n      </Content>\n    </div>\n  )\n}\n\nexport default ContentCom\n","import { Breadcrumb } from 'antd'\nimport { useEffect, useState, useContext } from 'react'\nimport { withRouter, Link } from 'react-router-dom'\nimport { context } from '../App'\n\nfunction BreadcrumbCom(props: any) {\n  const [breaNameArr, setBreaNameArr]: any[] = useState([])\n  // @ts-ignore\n  const { routersArrAuth = [] as any[] } = useContext(context)\n\n  const {\n    history: { location },\n  } = props\n\n  useEffect(() => {\n    initBread(location.pathname)\n  }, [location.pathname])\n\n  const initBread = (pathName: string) => {\n    // 设置面包屑\n    let trgatItem = routersArrAuth.find((k: any) => k.key === pathName)\n    trgatItem &&\n      trgatItem.fullTitle &&\n      setBreaNameArr(trgatItem.fullTitle.split('/'))\n  }\n\n  return (\n    <div className=\"bread-wapper\">\n      <Breadcrumb className=\"top-meun\">\n        <Breadcrumb.Item>\n          <Link to=\"/\">首页</Link>\n        </Breadcrumb.Item>\n        {breaNameArr.map(\n          (i: string) =>\n            i !== '首页' && <Breadcrumb.Item key={i}>{i}</Breadcrumb.Item>\n        )}\n      </Breadcrumb>\n    </div>\n  )\n}\n\nexport default withRouter(BreadcrumbCom)\n","import { Layout } from 'antd'\nimport { createContext, useState } from 'react'\nimport './index.scss'\nimport HeaderCom from './header'\nimport SiderMeunsCom from './siderMeuns'\nimport ContentCom from './content'\nimport BreadcrumbCom from './breadcrumb'\nexport const LayoutContext = createContext({})\n\nfunction LayoutCustom(props: any) {\n  const { history } = props\n  const [menuToggle, setMenuToggle] = useState(false)\n  return (\n    <LayoutContext.Provider value={{ menuToggle, setMenuToggle }}>\n      <div className=\"layout-content-wapper\" style={{ height: '100%' }}>\n        {/* 头部 */}\n        <HeaderCom />\n        {/* 左侧菜单 */}\n        <Layout style={{ height: '100%' }}>\n          <SiderMeunsCom history={history} />\n          {/* 内容 */}\n          <Layout style={{ padding: '0 24px 24px', overflow: 'auto' }}>\n            <BreadcrumbCom />\n            <ContentCom />\n          </Layout>\n        </Layout>\n      </div>\n    </LayoutContext.Provider>\n  )\n}\n\nexport default LayoutCustom\n","/*配置的权限列表，key即/router/config.ts路由表中的key，value即对应的身份\n例如:当前登录用户身份权限为admin_auth，才能看到pages、extension下的页面\n*/\nconst authConfig = {\n  pages: 'admin_auth',\n  extension:'admin_auth'\n}\n\nexport default authConfig\n","import { Layout } from 'antd'\nimport { Route, Switch, Redirect } from 'react-router-dom'\nimport { createContext } from 'react'\nimport _ from 'lodash'\nimport queryString from 'query-string'\nimport { authFun, NotFound, Login } from './router/config'\nimport LayoutCustom from './layout'\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport authConfig from './router/auth.config'\nimport './App.scss'\nimport { useEffect, useState } from 'react'\n\nexport const context = createContext(null)\n\nexport const RoutersCustom = (arrs) => {\n  return (\n    <Switch>\n      {arrs.map((item) => {\n        return (\n          <Route\n            key={item.key}\n            path={item.key}\n            exact={item.exact}\n            render={(props) => {\n              let searchParmas = queryString.parse(props.location.search)\n              return <item.component {...props} {...searchParmas} />\n            }}\n          />\n        )\n      })}\n      <Redirect to=\"/404\" />\n    </Switch>\n  )\n}\n\nconst NormalLayout = () => {\n  return (\n    <Layout style={{ height: '100%' }}>\n      <LayoutCustom />\n    </Layout>\n  )\n}\n\nfunction App(props) {\n  const [navMeunsAuth, setNavMeunsConstom] = useState([])\n  const [routersArrAuth, setRoutersArrConstom] = useState([])\n\n  const stringifyUseInfo = localStorage.getItem('userInfo')\n  let useInfo\n  try {\n    useInfo = stringifyUseInfo ? JSON.parse(stringifyUseInfo) : {}\n  } catch (err) {\n    console.log(err)\n  }\n\n  useEffect(() => {\n    getAuthMeuns()\n  }, [])\n\n  const getAuthMeuns = () => {\n    let { userauth } = useInfo\n    userauth = userauth ? userauth.split(',') : [userauth]\n    let noShowRoutes = Object.keys(authConfig).map((i) => {\n      if (userauth.includes(authConfig[i])) {\n        return null\n      }\n      return `/${i}`\n    })\n    noShowRoutes = noShowRoutes.filter((i) => i)\n    // 根据权限取得路由表\n    const { routersArr, navMeuns } = authFun(noShowRoutes)\n    setNavMeunsConstom(navMeuns)\n    setRoutersArrConstom(routersArr)\n  }\n  return (\n    <div className=\"App-layout-wapper\">\n      {routersArrAuth.length ? (\n        <context.Provider value={{ navMeunsAuth, routersArrAuth }}>\n          <Router>\n            <Switch>\n              {/* 此处可增加登录、个人中心等不带左侧菜单的页面*/}\n              <Route path=\"/login\" component={Login} />\n              <Route path=\"/404\" component={NotFound} />\n              <Route component={NormalLayout} />\n            </Switch>\n          </Router>\n        </context.Provider>\n      ) : null}\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\nimport 'antd/dist/antd.css'\nReactDOM.render(<App />, document.getElementById('root'))\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}