webpackJsonp([5],{LHpa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("PyeG"),a={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"all_wapper"},[e.showDetail?e._e():n("div",{staticClass:"makeInfo_wapper common_back"},[n("div",{staticClass:"inner_index_content"},[n("mt-field",{attrs:{disabled:"",label:"顶部返回栏"}},[n("div",{staticClass:"xt_flex"},[e.formInline.hasZtl?n("mt-switch",{staticClass:"set_pp_p",model:{value:e.formInline.isSystemAz,callback:function(t){e.$set(e.formInline,"isSystemAz",t)},expression:"formInline.isSystemAz"}},[e._v("\n            "+e._s(e.formInline.isSystemAz?"安卓":"苹果"))]):e._e(),e._v(" "),n("mt-switch",{model:{value:e.formInline.hasZtl,callback:function(t){e.$set(e.formInline,"hasZtl",t)},expression:"formInline.hasZtl"}},[e._v("\n            "+e._s(e.formInline.hasZtl?"有":"无"))])],1)]),e._v(" "),n("mt-field",{staticClass:"tx_wapper",attrs:{disabled:"",label:"微信头像",placeholder:""},model:{value:e.badInp,callback:function(t){e.badInp=t},expression:"badInp"}},[n("div",{staticClass:"tx_div_wapper common_back hasBg",attrs:{id:"tx_div_wapper_mi"},on:{click:e.changeHeadImg}})]),e._v(" "),e.ifPj?e._e():n("mt-field",{attrs:{label:"微信昵称",placeholder:"必填"},model:{value:e.formInline.nickName,callback:function(t){e.$set(e.formInline,"nickName",t)},expression:"formInline.nickName"}}),e._v(" "),e.ifPj?e._e():n("mt-field",{attrs:{disabled:"",label:"朋友圈形式(内容、链接)",placeholder:""},model:{value:e.badInp,callback:function(t){e.badInp=t},expression:"badInp"}},[n("div",{staticClass:"inner_no_padding"},[n("mt-radio",{attrs:{title:"",options:["内容","内容+链接"]},model:{value:e.formInline.contentStyle,callback:function(t){e.$set(e.formInline,"contentStyle",t)},expression:"formInline.contentStyle"}})],1)]),e._v(" "),n("div",{staticClass:"for_example_inner"},[n("span",[e._v("示例：")]),e._v(" "),e.ifPj?[n("div",{staticClass:"pl_show_example common_back"})]:["内容"===e.formInline.contentStyle?[n("div",{staticClass:"inner_show_example common_back"})]:n("div",{staticClass:"inner_show_example_other_all common_back"})]],2),e._v(" "),"内容"===e.formInline.contentStyle?[e.ifPj?e._e():n("mt-field",{attrs:{type:"textarea",label:"朋友圈内容",placeholder:"",placeholder:"朋友圈文字内容",rows:"4"},model:{value:e.formInline.realContent,callback:function(t){e.$set(e.formInline,"realContent",t)},expression:"formInline.realContent"}}),e._v(" "),n("mt-field",{key:"pyqimg",attrs:{disabled:"",label:e.ifPj?"您的朋友圈截图":"朋友圈图片",placeholder:"",rows:"4"},model:{value:e.badInp,callback:function(t){e.badInp=t},expression:"badInp"}},[n("div",{staticClass:"xt_flex app_wapper_box"},[e._l(e.formInline.realImgs,function(t,i){return[n("div",{key:t+i,staticClass:"show_imgs common_back",style:{backgroundImage:"url("+t+")"},on:{click:function(n){e.delImg(t,i)}}})]}),e._v(" "),n("div",{staticClass:"nr_div_wapper common_back",attrs:{id:"nr_div_wapper"},on:{click:e.changeContentImg}})],2)])]:[n("mt-field",{attrs:{type:"textarea",label:"朋友圈内容",placeholder:"",placeholder:"朋友圈文字内容",rows:"4"},model:{value:e.formInline.realContent,callback:function(t){e.$set(e.formInline,"realContent",t)},expression:"formInline.realContent"}}),e._v(" "),n("mt-field",{key:"sltimg",staticClass:"tx_wapper",attrs:{disabled:"",label:"链接缩略图"},model:{value:e.badInp,callback:function(t){e.badInp=t},expression:"badInp"}},[n("div",{staticClass:"link_div_wapper common_back",attrs:{id:"link_div_wapper_p"},on:{click:e.changeLinkImg}})]),e._v(" "),n("mt-field",{attrs:{label:"链接内容",placeholder:"",placeholder:"链接里图片旁的文字"},model:{value:e.formInline.smallContent,callback:function(t){e.$set(e.formInline,"smallContent",t)},expression:"formInline.smallContent"}})],e._v(" "),n("mt-field",{attrs:{label:"发布时间",disabled:"",placeholder:""}},[n("div",{staticClass:"fake_show_time",on:{click:e.getSetTime}},[e._v(e._s(e.formInline.sendTime))])]),e._v(" "),n("mt-field",{staticClass:"diy_inp",attrs:{label:"地点",disableClear:!0,placeholder:"例:北京·故宫"},model:{value:e.formInline.localtion,callback:function(t){e.$set(e.formInline,"localtion",t)},expression:"formInline.localtion"}},[n("mt-button",{staticClass:"add_tbns",attrs:{type:"primary",size:"small"},on:{click:e.addFgDeatail}},[e._v("加 ·")])],1),e._v(" "),n("div",{staticClass:"inner_make_btn"},[n("mt-button",{attrs:{type:"primary",size:"small"},on:{click:e.postForm}},[e._v("保存")]),e._v(" "),n("mt-button",{attrs:{size:"small",type:"danger"},on:{click:e.delForm}},[e._v("清空")]),e._v(" "),n("mt-button",{attrs:{type:"primary",size:"small"},on:{click:e.backBtn}},[e._v("返回")]),e._v(" "),n("mt-button",{attrs:{type:"primary",size:"small"},on:{click:e.backUrlBtn}},[e._v("重新选择生成方式")])],1)],2)]),e._v(" "),n("common-upload",{key:"makeInfo",ref:"loadImg",attrs:{fatherClass:"makeInfo",ifM:e.setUploadM},on:{setImg:e.setImg}}),e._v(" "),n("mt-popup",{staticClass:"app_pop_wapper",model:{value:e.popupVisible8,callback:function(t){e.popupVisible8=t},expression:"popupVisible8"}},[n("div",{staticClass:"app_pop_inner"},[n("div",{staticClass:"pop_item",on:{click:function(t){e.addImg("local")}}},[e._v("相册上传")]),e._v(" "),n("div",{staticClass:"pop_item",on:{click:function(t){e.addImg("sj1")}}},[e._v("随机1条")])])]),e._v(" "),n("mt-popup",{staticClass:"app_pop_wapper",model:{value:e.setTimePop,callback:function(t){e.setTimePop=t},expression:"setTimePop"}},[n("chose-time",{attrs:{initTime:e.formInline.sendTime},on:{upDateTime:function(t){e.formInline.sendTime=t,e.setTimePop=!1},close:function(t){e.setTimePop=!1}}})],1),e._v(" "),n("div",{staticClass:"imnnn"},[n("img",{ref:"imgsss",attrs:{width:"auto",src:e.dialogImageUrl}})])],1)},staticRenderFns:[]};var l=function(e){n("SP9f")},o=n("VU/8")(i.a,a,!1,l,"data-v-6c0dcda4",null);t.default=o.exports},PyeG:function(e,t,n){"use strict";(function(e){var i=n("fZjL"),a=n.n(i),l=n("mvHQ"),o=n.n(l),s=n("Au9i"),c=(n.n(s),n("u+ds")),m=n("Za3s"),r=n("sa33"),f=n("AiK9"),d=(n.n(f),n("oy34")),p=n("0xDb");t.a={components:{commBottom:c.default,commonUpload:m.default,choseTime:r.default},props:{seePjIf:{type:Boolean,default:!1}},data:function(){return{setTimePop:!1,ifPj:this.seePjIf,popupVisible8:!1,dialogImageUrl:"",setUploadM:!1,headImg:"",whiosGetImg:"",showDetail:!1,badInp:"",makeSelfArrPl:[""],startDate:new Date,formInline:{hasZtl:!1,isSystemAz:!0,nickName:"",makeSelfPl:"",yourHeaderImg:"",contentStyle:"内容",realContent:"",localtion:"",plType:"重复",realImgs:[],realImgsWid:"",realImgsHei:"",smallImg:"",smallImgLink:"http://www.baidu.com",smallContent:"",sendTime:Object(p.b)(),sendTimeNoformat:(new Date).getTime(),makeLikeCount:"",makeContentCount:"",makeContent:""}}},mounted:function(){this;this.$route;this.$nextTick(function(){!function(t,n){n.body.scrollTop;e('input[type="text"],textarea').each(function(){e(this).focus(function(e){setTimeout(function(){n.activeElement.scrollIntoViewIfNeeded()},400)})})}(window,document)})},methods:{addFgDeatail:function(){this.formInline.localtion+=" · ",this.$nextTick(function(){e(".diy_inp").find("input").focus()})},getSetTime:function(){this.setTimePop=!0},backBtn:function(){this.$emit("close")},backUrlBtn:function(){window.history.go(-1)},addImg:function(e){var t=this;switch(e){case"local":this.controlChange("headImg",!1);break;case"sj1":this.whiosGetImg="headImg",this.setImg(Object(d.a)(1,0,300))}this.$nextTick(function(){t.popupVisible8=!1})},delImg:function(e,t){var n=this;s.MessageBox.confirm("确认删除图片吗?").then(function(i){console.log(e),n.formInline.realImgs.splice(t,1)},function(e){console.log(t)})},setImg:function(t){var n=this;switch(console.log(t),console.log(this.whiosGetImg),this.whiosGetImg){case"headImg":this.formInline.yourHeaderImg=t[0],e("#tx_div_wapper_mi").css({"background-image":"url("+t[0]+")"});break;case"linkImg":this.formInline.smallImg=t[0],e("#link_div_wapper_p").css({"background-image":"url("+t[0]+")"});break;case"contentImg":this.formInline.realImgs=t.concat(this.formInline.realImgs),this.formInline.realImgs&&1===this.formInline.realImgs.length&&(this.dialogImageUrl=this.formInline.realImgs[0]);setTimeout(function(){var e=n.$refs.imgsss;n.formInline.realImgsWid=e.width,n.formInline.realImgsHei=e.height,console.log(n.formInline.realImgsWid)},300)}},changeContentImg:function(){this.controlChange("contentImg",!0)},changeHeadImg:function(){this.popupVisible8=!0},changeLinkImg:function(){this.controlChange("linkImg",!1)},controlChange:function(e,t){var n=this;this.whiosGetImg=e,this.setUploadM=t,setTimeout(function(){n.$refs.loadImg.actions()},100)},imgInfo:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log(t);var i=t[0],a=t[1].url;this.formInline[i]=a},showIndex:function(){this.showDetail=!1},clearRealImgs:function(){this.formInline.realImgs=[]},handleConfirm:function(e){this.formInline.sendTimeNoformat=e;var t=Object(p.a)(e);this.formInline.sendTime=t},uploadBtnOne:function(e){},chenckTime:function(){this.$refs.picker.open()},addNewPl:function(){this.makeSelfArrPl.push("")},delNowContent:function(e){this.makeSelfArrPl.splice(e,1)},contentChnangeStyle:function(){},postForm:function(){console.log(JSON.parse(o()(this.formInline))),this.$emit("close"),this.$emit("backInfoData",this.formInline)},delForm:function(){var e=this;a()(this.formInline).forEach(function(t,n){"contentStyle"!==t&&("array"==typeof e.formInline[t]?e.formInline[t]=[]:"string"==typeof e.formInline[t]&&(e.formInline[t]=""))}),this.clearRealImgs(),localStorage.setItem("makeJson","")},rebackData:function(){var e=Object(p.e)("makeJson");null!==e&&""!==e&&void 0!==e&&(this.formInline=e)}},watch:{seePjIf:function(){this.ifPj=this.seePjIf}}}}).call(t,n("7t+N"))},SP9f:function(e,t){}});
//# sourceMappingURL=5.208879f699de0dfb0fc3.js.map