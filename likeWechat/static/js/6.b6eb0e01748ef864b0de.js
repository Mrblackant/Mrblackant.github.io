webpackJsonp([6],{"1O6E":function(e,n,t){"use strict";(function(e){var i=t("fZjL"),a=t.n(i),l=t("Au9i"),o=(t.n(l),t("u+ds")),s=t("Za3s"),m=t("sa33"),c=t("AiK9"),r=(t.n(c),t("oy34")),d=t("0xDb");n.a={components:{commBottom:o.default,commonUpload:s.default,choseTime:m.default},props:{initData:{type:Object,default:function(){}}},data:function(){return{setTimePop:!1,popupVisible8:!1,dialogImageUrl:"",setUploadM:!1,headImg:"",whiosGetImg:"",showDetail:!1,badInp:"",makeSelfArrPl:[""],startDate:new Date,formInline:{nickName:"",makeSelfPl:"",yourHeaderImg:"",contentStyle:"内容",realContent:"",localtion:"",realImgs:[],realImgsWid:"",realImgsHei:"",smallImg:"",smallImgLink:"http://www.baidu.com",smallContent:"",sendTime:"昨天",sendTimeNoformat:(new Date).getTime(),likeNickName:[],wordsAll:[],plMini:!1,ifSelf:!0}}},mounted:function(){this;this.$route;this.$nextTick(function(){!function(n,t){t.body.scrollTop;e('input[type="text"],textarea').each(function(){e(this).focus(function(e){setTimeout(function(){t.activeElement.scrollIntoViewIfNeeded()},400)})})}(window,document)})},methods:{addFgDeatail:function(){this.formInline.localtion+=" · ",this.$nextTick(function(){e(".diy_inp").find("input").focus()})},getSetTime:function(){this.setTimePop=!0},backBtn:function(){this.$emit("close")},addImg:function(e){var n=this;switch(e){case"local":this.controlChange("headImg",!1);break;case"sj1":this.whiosGetImg="headImg",this.setImg(Object(r.a)(1,0,300))}this.$nextTick(function(){n.popupVisible8=!1})},delImg:function(e,n){var t=this;l.MessageBox.confirm("确认删除图片吗?").then(function(i){console.log(e),t.formInline.realImgs.splice(n,1)},function(e){console.log(n)})},setImg:function(e){var n=this;switch(console.log(this.whiosGetImg),this.whiosGetImg){case"headImg":this.formInline.yourHeaderImg=e[0];break;case"linkImg":this.formInline.smallImg=e[0];break;case"contentImg":this.formInline.realImgs=this.formInline.realImgs?e.concat(this.formInline.realImgs):e,this.formInline.realImgs&&1===this.formInline.realImgs.length&&(this.dialogImageUrl=this.formInline.realImgs[0]);setTimeout(function(){var e=n.$refs.imgzan;n.formInline.realImgsWid=e.width,n.formInline.realImgsHei=e.height},300)}},changeContentImg:function(){this.controlChange("contentImg",!0)},changeHeadImg:function(){this.popupVisible8=!0},changeLinkImg:function(){this.controlChange("linkImg",!1)},controlChange:function(e,n){var t=this;this.whiosGetImg=e,this.setUploadM=n,setTimeout(function(){t.$refs.loadImg.actions()},100)},imgInfo:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];console.log(n);var i=n[0],a=n[1].url;this.formInline[i]=a},showIndex:function(){this.showDetail=!1},clearRealImgs:function(){this.formInline.realImgs=[]},handleConfirm:function(e){this.formInline.sendTimeNoformat=e;var n=Object(d.a)(e);this.formInline.sendTime=n},uploadBtnOne:function(e){},chenckTime:function(){this.$refs.picker.open()},addNewPl:function(){this.makeSelfArrPl.push("")},delNowContent:function(e){this.makeSelfArrPl.splice(e,1)},contentChnangeStyle:function(){},postForm:function(){this.$emit("close"),this.$emit("backInfoData",this.formInline)},delForm:function(){var e=this;a()(this.formInline).forEach(function(n,t){"contentStyle"!==n&&("array"==typeof e.formInline[n]?e.formInline[n]=[]:"string"==typeof e.formInline[n]&&(e.formInline[n]=""))}),this.clearRealImgs(),localStorage.setItem("makeJson","")},rebackData:function(){var e=Object(d.e)("makeJson");null!==e&&""!==e&&void 0!==e&&(this.formInline=e)}},watch:{initData:{handler:function(e,n){a()(e).length>0&&(console.log(e),this.formInline=e)},immediate:!0}}}}).call(n,t("7t+N"))},"44Bz":function(e,n){},fqUQ:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t("1O6E"),a={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"all_wapper_mIndex_wapper"},[e.showDetail?e._e():t("div",{staticClass:"makeInfo_wapper common_back"},[t("div",{staticClass:"inner_index_content"},[t("mt-field",{staticClass:"tx_wapper",attrs:{disabled:"",label:"微信头像",placeholder:""},model:{value:e.badInp,callback:function(n){e.badInp=n},expression:"badInp"}},[t("div",{staticClass:"tx_div_wapper common_back",class:e.formInline.yourHeaderImg?"":"hasBg",style:{backgroundImage:"url("+e.formInline.yourHeaderImg+")"},attrs:{id:"tx_div_wapper_mi"},on:{click:e.changeHeadImg}})]),e._v(" "),t("mt-field",{attrs:{label:"微信昵称",placeholder:"必填"},model:{value:e.formInline.nickName,callback:function(n){e.$set(e.formInline,"nickName",n)},expression:"formInline.nickName"}}),e._v(" "),t("mt-field",{attrs:{disabled:"",label:"朋友圈形式(内容、链接)",placeholder:""},model:{value:e.badInp,callback:function(n){e.badInp=n},expression:"badInp"}},[t("div",{staticClass:"inner_no_padding"},[t("mt-radio",{attrs:{title:"",options:["内容","内容+链接"]},model:{value:e.formInline.contentStyle,callback:function(n){e.$set(e.formInline,"contentStyle",n)},expression:"formInline.contentStyle"}})],1)]),e._v(" "),t("div",{staticClass:"for_example_inner"},[t("span",[e._v("示例：")]),e._v(" "),["内容"===e.formInline.contentStyle?[t("div",{staticClass:"inner_show_example common_back"})]:t("div",{staticClass:"inner_show_example_other_all common_back"})]],2),e._v(" "),"内容"===e.formInline.contentStyle?[t("mt-field",{attrs:{type:"textarea",label:"朋友圈内容",placeholder:"",placeholder:"朋友圈文字内容",rows:"4"},model:{value:e.formInline.realContent,callback:function(n){e.$set(e.formInline,"realContent",n)},expression:"formInline.realContent"}}),e._v(" "),t("mt-field",{key:"pyqimg",attrs:{disabled:"",label:"朋友圈图片",placeholder:"",rows:"4"},model:{value:e.badInp,callback:function(n){e.badInp=n},expression:"badInp"}},[t("div",{staticClass:"xt_flex app_wapper_box"},[e._l(e.formInline.realImgs,function(n,i){return[t("div",{key:n+i,staticClass:"show_imgs common_back",style:{backgroundImage:"url("+n+")"},on:{click:function(t){e.delImg(n,i)}}})]}),e._v(" "),t("div",{staticClass:"nr_div_wapper common_back",attrs:{id:"nr_div_wapper"},on:{click:e.changeContentImg}})],2)])]:[t("mt-field",{attrs:{type:"textarea",label:"朋友圈内容",placeholder:"",placeholder:"朋友圈文字内容",rows:"4"},model:{value:e.formInline.realContent,callback:function(n){e.$set(e.formInline,"realContent",n)},expression:"formInline.realContent"}}),e._v(" "),t("mt-field",{key:"sltimg",staticClass:"tx_wapper",attrs:{disabled:"",label:"链接缩略图"},model:{value:e.badInp,callback:function(n){e.badInp=n},expression:"badInp"}},[t("div",{staticClass:"link_div_wapper common_back",class:e.formInline.smallImg?"":"hasBg",style:{backgroundImage:"url("+e.formInline.smallImg+")"},attrs:{id:"link_div_wapper_p"},on:{click:e.changeLinkImg}})]),e._v(" "),t("mt-field",{attrs:{label:"链接内容",placeholder:"",placeholder:"链接里图片旁的文字"},model:{value:e.formInline.smallContent,callback:function(n){e.$set(e.formInline,"smallContent",n)},expression:"formInline.smallContent"}})],e._v(" "),t("mt-field",{attrs:{label:"发布时间",disabled:"",placeholder:""}},[e.formInline.sendTime?t("div",{staticClass:"fake_show_time",on:{click:e.getSetTime}},[e._v(e._s(e.formInline.sendTime))]):t("span",{staticClass:"fake_inp_pla",on:{click:e.getSetTime}},[e._v("请填写时间")])]),e._v(" "),t("mt-field",{staticClass:"diy_inp",attrs:{label:"地点",disableClear:!0,placeholder:"例:北京·故宫"},model:{value:e.formInline.localtion,callback:function(n){e.$set(e.formInline,"localtion",n)},expression:"formInline.localtion"}},[t("mt-button",{staticClass:"add_tbns",attrs:{type:"primary",size:"small"},on:{click:e.addFgDeatail}},[e._v("加 ·")])],1),e._v(" "),t("mt-field",{attrs:{disabled:"",label:"是否自己的朋友圈"}},[t("mt-switch",{model:{value:e.formInline.ifSelf,callback:function(n){e.$set(e.formInline,"ifSelf",n)},expression:"formInline.ifSelf"}})],1),e._v(" "),t("div",{staticClass:"inner_make_btn"},[t("mt-button",{attrs:{type:"primary",size:"small"},on:{click:e.postForm}},[e._v("保存")]),e._v(" "),t("mt-button",{attrs:{size:"small",type:"danger"},on:{click:e.delForm}},[e._v("清空")]),e._v(" "),t("mt-button",{attrs:{type:"primary",size:"small"},on:{click:e.backBtn}},[e._v("返回")])],1)],2)]),e._v(" "),t("common-upload",{key:"makeInfo",ref:"loadImg",attrs:{fatherClass:"mainIndexMakeInfo",ifM:e.setUploadM},on:{setImg:e.setImg}}),e._v(" "),t("mt-popup",{staticClass:"app_pop_wapper",model:{value:e.popupVisible8,callback:function(n){e.popupVisible8=n},expression:"popupVisible8"}},[t("div",{staticClass:"app_pop_inner"},[t("div",{staticClass:"pop_item",on:{click:function(n){e.addImg("local")}}},[e._v("相册上传")]),e._v(" "),t("div",{staticClass:"pop_item",on:{click:function(n){e.addImg("sj1")}}},[e._v("随机1条")])])]),e._v(" "),t("mt-popup",{staticClass:"app_pop_wapper",model:{value:e.setTimePop,callback:function(n){e.setTimePop=n},expression:"setTimePop"}},[t("chose-time",{attrs:{ifIndex:!0,initTime:e.formInline.sendTime},on:{upDateTime:function(n){e.formInline.sendTime=n,e.setTimePop=!1},close:function(n){e.setTimePop=!1}}})],1),e._v(" "),t("div",{staticClass:"immIndex"},[t("img",{ref:"imgzan",attrs:{width:"auto",src:e.dialogImageUrl}})])],1)},staticRenderFns:[]};var l=function(e){t("44Bz")},o=t("VU/8")(i.a,a,!1,l,"data-v-03417dda",null);n.default=o.exports}});
//# sourceMappingURL=6.b6eb0e01748ef864b0de.js.map